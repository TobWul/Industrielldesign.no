.agenda {
    position: relative;
    background-color: $extra-light-gray;
    padding-left: 12rem;
    height: 60vh;
    min-height: 600px;
    overflow-x: scroll;

    .month-div {
        height: 100%;
        display: flex;
        flex-wrap: nowrap;
        align-items: center;
        overflow-x: auto;
        overflow-y: auto;
        
        .event {
            transition: transform 200ms cubic-bezier(.4,0,.58,1.1);
            transform: translateY(-100vh);
        }
        &.current {
            .event {
                transform: translateY(0);
                @for $i from 1 through 4 {
                    &:nth-child(#{$i}) {
                        transition-delay: calc(#{$i} * 50ms);
                    }
                }
                &:nth-child(4n+1) {
                    transition-delay: 200ms;
                }
            }
        }
    }

    .month-year {
        transform: rotate(-90deg);
        transform-origin: bottom left;
        position: absolute;
        bottom: 5rem;
        left: 12rem;
        transition: transform 200ms ease-in-out;
        #month, #year {
            @include no-select;
        }
        #month {
            text-transform: capitalize;
            margin: 0;
            font-size: 4rem;
        }
        #year {
            font-size: 2rem;
        }
        &.changing {
            transform: translateY(-100vh) rotate(-90deg);
        }
    }
    .event {
        display: block;
        padding: 1rem;
        background-color: $white;
        width: 240px;
        min-width: 240px;
        min-height: 340px;
        max-height: 80%;
        position: relative;
        color: $text-color;
        margin-right: 1rem;

        &:last-child {
            margin-right: 4rem;
        }

        .event-title {
            font-size: 1.5rem;
            font-family: $bold;
            @include text-wrap;
        }

        img {
            position: absolute;
            top: 50%;
            margin: -50px -1rem 0;
            width: 100%;
            height: 100px;
            object-fit: cover;
        }

        .time {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            b {
                text-transform: capitalize;
            }
        }
        &:nth-child(4n+1) {
            top: 10px;
        }
        &:nth-child(4n+2) {
            top: -10px;
        }
        &:nth-child(4n+3) {
            top: -20px;
        }
        &:nth-child(4n+4) {
            top: 10px;
        }
    }
    .today {
        position: absolute;
        bottom: 2rem;
        left: 0;
        right: 0;
        width: 7rem;
        margin: 0 auto;
        cursor: pointer;
    }
    .next-month, .previous-month {
        position: absolute;
        bottom: 2rem;
        cursor: pointer;
        @include no-select;
        text-transform: capitalize;
        &::before, &::after {
            content: '';
            left: 0;
            position: absolute;
        }
        &::before {
            border: solid black;
            border-width: 0 2px 2px 0;
            display: inline-block;
            padding: 4px;
            top: 11px;
            transform: rotate(135deg);
        }
    
        &::after {
            background-color: #000;
            width: 30px;
            height: 2px;
            top: 15px;
        }
    }
    .previous-month {
        left: 3rem;
        padding-left: 38px;
    }
    .next-month {
        right: 3rem;
        padding-right: 40px;
        &::after, &::before {
            right: 0;
            left: auto;
        }
        &::before {
            left: auto;
            transform: rotate(-45deg);
        }
    }
}